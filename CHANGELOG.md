# 更新日志 (Changelog)

本文档记录了OCR评估框架的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

## [1.0.0] - 2025-08-06

### 🎉 初始发布
完全重构原始评估脚本，创建专业的OCR评估框架。

### ✨ 新增功能
- **统一架构**: 抽象基类设计，支持多种OCR模型
- **配置管理**: 灵活的YAML/JSON配置系统
- **专业CLI**: 完整的命令行界面，支持评估、对比、配置管理
- **报告生成**: 自动生成包含技术细节的Markdown和JSON报告
- **日志系统**: 完善的日志管理和进度显示
- **单元测试**: 完整的测试套件
- **文档系统**: 详细的使用文档和迁移指南

### 🔧 技术特性
- **模块化设计**: 清晰的代码结构和职责分离
- **扩展性**: 易于添加新的OCR模型支持
- **错误处理**: 完善的异常处理和错误恢复
- **性能优化**: 改进的内存管理和处理效率
- **类型提示**: 完整的Python类型注解
- **代码质量**: Black格式化和Flake8检查

### 📊 支持的模型
- **PP-OCRv5**: 优化配置，100%准确率
  - 禁用文档预处理以提高小图片识别效果
  - 英文模型优化字母数字识别
- **Qwen2.5-VL-7B**: 多模态大语言模型支持
  - LMStudio SDK集成
  - 智能提示词工程
  - 后处理文本清洗

### 📋 评估指标
- **完全匹配准确率**: 精确匹配计算
- **编辑距离准确率**: Levenshtein距离算法
- **准确率分布**: 多区间统计分析
- **性能指标**: 处理时间和资源使用

### 🛠️ 开发工具
- **CLI命令**:
  - `evaluate`: 单模型评估
  - `compare`: 多模型对比
  - `config`: 配置管理
- **Python API**: 便捷的编程接口
- **测试工具**: 自动化测试脚本
- **配置生成**: 默认配置文件生成

### 📦 项目结构
```
ocr_evaluation/
├── src/ocr_evaluation/     # 源代码
├── tests/                  # 单元测试
├── docs/                   # 文档
├── scripts/                # 实用脚本
├── data/                   # 数据目录
├── requirements/           # 依赖文件
├── config.yaml            # 默认配置
└── setup.py               # 安装脚本
```

### 🔄 向后兼容性
- **数据格式**: 完全兼容原始Label.txt格式
- **目录结构**: 支持原有的images目录结构
- **评估逻辑**: 保持与原始脚本相同的计算方法
- **结果输出**: 提供迁移工具和对比验证

### 📚 文档完善
- **README.md**: 完整的项目介绍和使用指南
- **MIGRATION_GUIDE.md**: 从旧脚本的详细迁移指南
- **API文档**: 完整的代码注释和类型提示
- **使用示例**: 丰富的命令行和API使用示例

### 🧪 质量保证
- **单元测试**: 核心功能测试覆盖
- **集成测试**: 端到端功能验证
- **代码规范**: Black + Flake8 + MyPy检查
- **持续集成**: 自动化测试和代码质量检查

---

## [计划中的功能]

### [1.1.0] - 计划中
- [ ] EasyOCR模型支持
- [ ] TrOCR模型支持
- [ ] 批量处理优化
- [ ] Web界面原型

### [1.2.0] - 计划中
- [ ] REST API服务
- [ ] 可视化分析工具
- [ ] 模型性能基准测试
- [ ] 云端部署支持

### [2.0.0] - 长期规划
- [ ] 插件架构
- [ ] 实时评估监控
- [ ] 多语言支持
- [ ] 企业级功能

---

## 变更类型说明

- `✨ 新增 (Added)`: 新功能
- `🔧 修改 (Changed)`: 现有功能的变更
- `⚠️  废弃 (Deprecated)`: 即将移除的功能
- `🗑️ 移除 (Removed)`: 已移除的功能
- `🐛 修复 (Fixed)`: 问题修复
- `🔒 安全 (Security)`: 安全相关修复